<?php
    $attributes = $this->getAttributes(); 
    $data = $this->getVendorProductData()->getData();
   
?>
<?php foreach($attributes as $key=>$attribute):?> 
    <?php $value = $attribute['attribute_code'];?>   
    <?php if($attribute['frontend_label']==''):?>
        <?php $attribute['frontend_label'] = $attribute['attribute_code'] ?>
    <?php endif; ?>
       
       <?php if($attribute['is_required']==1 || $attribute['is_user_defined']==1):?>
        
        <?php if ($attribute['frontend_input'] == 'text' || $attribute['frontend_input'] == 'weight'): ?>
            <?php if ($attribute['attribute_code'] != 'created_at' && $attribute['attribute_code'] != 'updated_at') : ?>
            <label><?php echo $attribute['frontend_label'] ?><?php if($attribute['is_required']==1):?><span class="required"></span><?php endif; ?></label>
            <input type="<?php echo $attribute['frontend_input'] ?>" name="<?php echo $attribute['attribute_code']?>" value="<?php echo $data[$value];?>" <?php if($attribute['is_required']==1):?>required<?php endif; ?>
             <?php if($data && $attribute['attribute_code']=='sku'):?>readonly<?php endif; ?>>
            <?php endif;?>
        <?php endif; ?>

        <?php if ($attribute['frontend_input'] == 'price'): ?>
            <label><?php echo $attribute['frontend_label'] ?><?php if($attribute['is_required']==1):?><span class="required"></span><?php endif; ?></label>
            <input type="number" name="<?php echo $attribute['attribute_code']?>" value="<?php echo $data[$value];?>" <?php if($attribute['is_required']==1):?> required<?php endif; ?> min="0">
        <?php endif;?>

        <?php if($attribute['frontend_input'] == 'textarea'): ?>
            <label><?php echo $attribute['frontend_label']?><?php if($attribute['is_required']==1):?><span class="required"></span><?php endif; ?></label>
            <<?php echo $attribute['frontend_input']?> name="<?php echo $attribute['attribute_code']?>" <?php if($attribute['is_required']==1):?>required<?php endif; ?>><?php echo $data[$value];?></<?php echo $attribute['frontend_input']?>>
        <?php endif?> 

        <?php if($attribute['frontend_input']== 'date' || $attribute['frontend_input']=='datetime'):?>
            <label><?php echo $attribute['frontend_label']?><?php if($attribute['is_required']==1):?><span class="required"></span><?php endif; ?></label>
            <input type="date" name="<?php echo $attribute['attribute_code']?>" <?php if($attribute['is_required']==1):?> required<?php endif; ?> value="<?php echo date('Y-m-d',strtotime($data[$value])); ?>">
        <?php endif; ?>

        <?php if($attribute['frontend_input']== 'select'):?>
        <?php $options = $this->getOptions($attribute['attribute_id'])?>
            <?php if($options):?>
            <label><?php echo $attribute['frontend_label']?><?php if($attribute['is_required']==1):?><span class="required"></span><?php endif; ?></label>
            <<?php echo $attribute['frontend_input']; ?> name="<?php echo $attribute['attribute_code']; ?>" <?php if($attribute['is_required']==1):?> required<?php endif; ?>>
                <option value="">--Please Select--</option>
                <?php foreach($options as $key=>$option):?>
                    <option value="<?php echo $option['option_id'] ?>" <?php if($data[$value]==$option['option_id']):?>selected <?php endif;?>><?php echo $option['value'];?></option>
                <?php endforeach; ?>            
            </<?php echo $attribute['frontend_input']; ?>>
            <?php endif; ?>
        <?php endif; ?>

        <?php if($attribute['frontend_input']== 'multiselect'):?>
        <?php $options = $this->getOptions($attribute['attribute_id'])?>
            <?php if($options):?>
                <label><?php echo $attribute['frontend_label']?><?php if($attribute['is_required']==1):?><span class="required"></span><?php endif; ?></label>
                <select name="<?php echo $attribute['attribute_code']; ?>[]" multiple <?php if($attribute['is_required']==1):?> required<?php endif; ?>>
                    <?php foreach($options as $key=>$option):?>
                        <option value="<?php echo $option['option_id'] ?>" 
                        <?php $selectedoption = explode(',',$data[$value]);?>
                        <?php foreach($selectedoption as $key=>$row):?>
                            <?php if($row==$option['option_id']):?>selected<?php endif;?>
                        <?php endforeach; ?>>
                        <?php echo $option['value'];?></option>
                    <?php endforeach; ?>            
                </select>
            <?php endif; ?>
        <?php endif;?>
    
        <?php if($attribute['frontend_input'] == 'boolean'):?>
            <label><?php echo $attribute['frontend_label'] ?><?php if($attribute['is_required']==1):?><span class="required"></span><?php endif; ?></label>
            <select name="<?php echo $attribute['attribute_code']; ?>" <?php if($attribute['is_required']==1):?>required<?php endif; ?>>
                <option value="">--Please Select--</option>
                <option value="1" <?php if($data[$value]==1):?>selected<?php endif;?>>Yes</option>
                <option value="0" <?php if($data[$value]==0):?>selected<?php endif;?>>No</option>
            </select>
        <?php endif; ?>

        <?php if($attribute['attribute_code']=='visibility'):?>
            <label><?php echo $attribute['attribute_code'];?><?php if($attribute['is_required']==1):?><span class="required"></span><?php endif; ?></label>
            <select name="visibility" <?php if($attribute['is_required']==1):?>required<?php endif; ?>>
                <option value="">-- Please Select --</option>
                <option value="1" <?php if($data[$value]==1):?>selected<?php endif;?>>Not Visible Individually</option>
                <option value="2" <?php if($data[$value]==2):?>selected<?php endif;?>>Catalog</option>
                <option value="3" <?php if($data[$value]==3):?>selected<?php endif;?>>Search</option>
                <option value="4" <?php if($data[$value]==4):?>selected<?php endif;?>>Catalog, Search</option>
            </select>
        <?php endif;?>

        <?php if($attribute['attribute_code']=='status'):?>
            <label><?php echo $attribute['attribute_code'];?><?php if($attribute['is_required']==1):?><span class="required"></span><?php endif; ?></label>
            <select id="status" name="status" <?php if($attribute['is_required']==1):?>required<?php endif; ?>>
                <option value="" selected="selected">-- Please Select --</option>
                <option value="1" <?php if($data[$value]==1):?>selected<?php endif;?>>Enabled</option>
                <option value="2" <?php if($data[$value]==2):?>selected<?php endif;?>>Disabled</option>
            </select>
        <?php endif; ?>

        <?php if ($attribute['attribute_code'] == 'created_at' || $attribute['attribute_code'] == 'updated_at') : ?>
        <br><br>
        <strong><label><?php echo $attribute['frontend_label']; ?><?php if($attribute['attribute_code'] == 'created_at'): if($attribute['is_required'] == 1): ?><span
                    class="required"></span><?php endif; endif; ?></label></strong>
        <input type="date" name="<?php echo $attribute['attribute_code']; ?>"
            value="<?php echo date('Y-m-d',strtotime($data[$value])); ?>"
            <?php if($attribute['attribute_code'] == 'created_at'): if($attribute['is_required'] == 1): ?>required<?php endif;endif; ?> />
        <?php endif; ?>

    <?php endif; ?>

<?php endforeach;?>

<style>
    label {
        display: block;
        margin-top: 10px;
        font-weight: bolder;
    }
</style>
